theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 15),  # Make the legend text bigger
legend.title = element_text(size = 15),  # Make the legend title bigger
legend.position = c(-50, 50)
)
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 15),  # Make the legend text bigger
legend.title = element_text(size = 15),  # Make the legend title bigger
legend.position.inside = c(-50, 50)
)
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 15),  # Make the legend text bigger
legend.title = element_text(size = 15),  # Make the legend title bigger
legend.position.inside = c(0.5, 0.5)
)
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 15),  # Make the legend text bigger
legend.title = element_text(size = 15),  # Make the legend title bigger
legend.position.inside = c(0.25, 0.25)
)
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(0.1, 0.1)
)
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(0.01, 0.1),
legend.box.margin = 2
)
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(0.01, 0.1),
legend.box.margin = margin(116, 6, 6, 6)
)
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(0.1, 0.01),
legend.box.margin = margin(10, 10, 10, 10)
)
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(0.1, -0.1),
legend.box.margin = margin(10, 10, 10, 10)
)
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(-0.1, 0.1),
legend.box.margin = margin(10, 10, 10, 10)
)
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(-0.1, 0.1),
legend.box = element_rect())
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(-0.1, 0.1))
)
ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(-0.1, 0.1))
claims_df <- read_csv(here("data", "ca_shape_w_suc_claims.csv"))
glimpse(claims_df)
claims_df <- read_csv(here("data", "ca_shape_w_suc_claims.csv")) %>%
group_by(GEOID10) %>%
summarize(num_successful_claims = n(),
pct_successful_claims = mean(i_claim_suc, na.rm=TRUE))
glimpse(claims_df)
glimpse(zcta_shape)
ca_zcta_claims <- zcta_shape %>%
full_join(claims_df, by = c("zcta" = "GEOID10"))
ca_zcta_claims %>%
ggplot() +
geom_sf(aes(fill = pct_successful_claims), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(-0.1, 0.1))
ca_zcta_claims %>%
ggplot() +
geom_sf(aes(fill = pct_successful_claims), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
# limits = c(0, 14),  # Set the limits to include the range of interest
# breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Proportion of successful wildfire claims") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(-0.1, 0.1))
ca_zcta_claims %>%
ggplot() +
geom_sf(aes(fill = pct_successful_claims), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
# limits = c(0, 14),  # Set the limits to include the range of interest
# breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Proportion of successful \nwildfire claims") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(-0.1, 0.1))
ca_zcta_claims %>%
ggplot() +
geom_sf(aes(fill = num_successful_claims), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
# limits = c(0, 14),  # Set the limits to include the range of interest
# breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of successful \nwildfire claims") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(-0.1, 0.1))
num_wildfires <- ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(-0.1, 0.1))
prop_claims <- ca_zcta_claims %>%
ggplot() +
geom_sf(aes(fill = pct_successful_claims), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
# limits = c(0, 14),  # Set the limits to include the range of interest
# breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Proportion of successful \nwildfire claims") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 12),  # Make the legend text bigger
legend.title = element_text(size = 12),  # Make the legend title bigger
legend.position.inside = c(-0.1, 0.1))
fig_2 <- ggarrange(num_wildfires, prop_claims, labels = c("A", "B"))
library(ggpubr)
fig_2 <- ggarrange(num_wildfires, prop_claims, labels = c("A", "B"))
fig_2
num_wildfires <- ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 8),  # Make the legend text bigger
legend.title = element_text(size = 8),  # Make the legend title bigger
legend.position.inside = c(0, 0.1))
prop_claims <- ca_zcta_claims %>%
ggplot() +
geom_sf(aes(fill = pct_successful_claims), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
# limits = c(0, 14),  # Set the limits to include the range of interest
# breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Proportion of successful \nwildfire claims") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 8),  # Make the legend text bigger
legend.title = element_text(size = 8),  # Make the legend title bigger
legend.position.inside = c(0, 0.1))
fig_2 <- ggarrange(num_wildfires, prop_claims, labels = c("A", "B"))
fig_2
num_wildfires <- ca_zcta %>%
ggplot() +
geom_sf(aes(fill = num_times_affected), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
limits = c(0, 14),  # Set the limits to include the range of interest
breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Number of wildfire \ndisasters affecting \neach ZCTA") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 8),  # Make the legend text bigger
legend.title = element_text(size = 8),  # Make the legend title bigger
legend.position.inside = c(0, 0.1))
prop_claims <- ca_zcta_claims %>%
ggplot() +
geom_sf(aes(fill = pct_successful_claims), lwd = 0.01) +
theme_minimal() +
scale_fill_viridis_c(
# limits = c(0, 14),  # Set the limits to include the range of interest
# breaks = c(0, 7, 14)  # Set specific breaks for the legend
) +# Apply viridis color scale
theme_minimal() +
theme(
axis.ticks = element_blank(),  # Remove axis ticks
axis.text = element_blank()    # Remove axis text
) +
labs(fill = "Proportion of \nsuccessful \nwildfire claims") +
theme_map() +
theme(
plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
legend.text = element_text(size = 8),  # Make the legend text bigger
legend.title = element_text(size = 8),  # Make the legend title bigger
legend.position.inside = c(0, 0.1))
# ca_zcta_claims %>%
#   ggplot() +
#   geom_sf(aes(fill = num_successful_claims), lwd = 0.01) +
#   theme_minimal() +
#   scale_fill_viridis_c(
#     # limits = c(0, 14),  # Set the limits to include the range of interest
#     # breaks = c(0, 7, 14)  # Set specific breaks for the legend
#   ) +# Apply viridis color scale
#   theme_minimal() +
#   theme(
#     axis.ticks = element_blank(),  # Remove axis ticks
#     axis.text = element_blank()    # Remove axis text
#   ) +
#   labs(fill = "Number of successful \nwildfire claims") +
#   theme_map() +
#   theme(
#     plot.title = element_text(size = 20, face = "bold"),  # Make the title bigger and bold
#     legend.text = element_text(size = 12),  # Make the legend text bigger
#     legend.title = element_text(size = 12),  # Make the legend title bigger
#     legend.position.inside = c(-0.1, 0.1))
fig_2 <- ggarrange(num_wildfires, prop_claims, labels = c("A", "B"))
fig_2
